!function(p){function d(t){return t.indexOf("px")?t.substring(0,t.length-2):canvas_height.indexOf("%")?t.substring(0,t.length-1):void 0}function n(t){if(t.toString().indexOf("px")<-1&&t.toString().indexOf("%")<-1)return t+"px"}function g(t,i){return i<0?parseInt(t)/100*360*(Math.PI/180)-Math.PI/2:(parseInt(t)+parseInt(i))/100*360*(Math.PI/180)-Math.PI/2}function h(t){var i=d(l.height.toString()),e=d(l.width.toString()),n=document.createElement("canvas");n.height=i,n.width=e;var r=n.getContext("2d");r.strokeStyle=l.color,r.lineWidth=l.line_width,r.beginPath();var s,h=g(l.starting_position,-1),o=g(l.starting_position,l.percent),c=e/2,a=i/2;return s=e<=i?.9*e/2-2*l.line_width:.9*i/2-2*l.line_width,r.arc(c,a,s,h,o,l.counter_clockwise),r.stroke(),"percent"==l.text&&p(".gmpc-percent-text").text(Math.round(l.percent)+"%"),n}var l={},i={init:function(t){var i=p.extend({color:"#0B2546",height:"200px",width:"200px",line_width:8,starting_position:25,percent:100,counter_clockwise:!1,text:"percent",font_size:"28px",font_family:"Helvetica"},t);l=i;var e=p("<div class='gmpc-percent-text'></div>");return e.css({"font-size":l.font_size,"font-family":l.font_family}),"percent"!=l.text&&e.text(l.text),p(this).append(e),100!=l.starting_position&&(l.starting_position=l.starting_position%100),100!=l.ending_position&&(l.ending_position=l.ending_position%100),n(l.width),n(l.height),p(this).css({height:l.height,width:l.width}),p(this).addClass("gmpc"),p(this).find("canvas").remove(),p(this).append(h(p(this))),this},percent:function(t){return l.percent=t,p(this).css({height:l.height,width:l.width}),p(this).children("canvas").remove(),p(this).append(h(p(this))),this},animate:function(t,i){p(this).css({height:l.height,width:l.width});var e=i/10,n=(t-l.percent)/e,r=p(this),s=setInterval(function(){l.percent<t?(r.children("canvas").remove(),l.percent+=n,r.append(h())):clearInterval(s)},10);return this}};p.fn.gmpc=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void p.error("Method "+t+" does not exist."):i.init.apply(this,arguments)}}(jQuery);